"use strict";const e=require("./huobipro.js"),{ExchangeError:i,ExchangeNotAvailable:t,AuthenticationError:a,InvalidOrder:o,InsufficientFunds:s,OrderNotFound:r}=require("./base/errors");module.exports=class extends e{describe(){return this.deepExtend(super.describe(),{id:"cointiger",name:"CoinTiger",countries:"CN",hostname:"api.cointiger.pro",has:{fetchCurrencies:!1,fetchTickers:!0,fetchTradingLimits:!1,fetchOrder:!1},headers:{Language:"en_US"},urls:{logo:"https://user-images.githubusercontent.com/1294454/39797261-d58df196-5363-11e8-9880-2ec78ec5bd25.jpg",api:{public:"https://api.cointiger.pro/exchange/trading/api/market",private:"https://api.cointiger.pro/exchange/trading/api",exchange:"https://www.cointiger.pro/exchange"},www:"https://www.cointiger.pro",referral:"https://www.cointiger.pro/exchange/register.html?refCode=FfvDtt",doc:"https://github.com/cointiger/api-docs-en/wiki"},api:{public:{get:["history/kline","detail/merged","depth","trade","history/trade","detail"]},exchange:{get:["footer/tradingrule.html","api/public/market/detail"]},private:{get:["user/balance","order/new","order/history","order/trade"],post:["order"],delete:["order"]}},exceptions:{1:s,2:i,5:o,6:o,8:r,16:a,100001:i,100002:t,100003:i,100005:a}})}async fetchMarkets(){const e=[{precision:{amount:1,price:8},tierBased:!1,percentage:!0,taker:.001,maker:.001,id:"aacbtc",uppercaseId:"AACBTC",symbol:"AAC/BTC",base:"AAC",quote:"BTC",baseId:"aac",quoteId:"btc",active:!0,info:void 0,limits:{amount:{min:.1,max:void 0},price:{min:1e-8,max:void 0},cost:{min:0,max:void 0}}},{precision:{amount:0,price:8},tierBased:!1,percentage:!0,taker:.001,maker:.001,id:"afcbtc",uppercaseId:"AFCBTC",symbol:"AFC/BTC",base:"AFC",quote:"BTC",baseId:"afc",quoteId:"btc",active:!0,info:void 0,limits:{amount:{min:1,max:void 0},price:{min:1e-8,max:void 0},cost:{min:0,max:void 0}}},{precision:{amount:0,price:8},tierBased:!1,percentage:!0,taker:.001,maker:.001,id:"avhbtc",uppercaseId:"AVHBTC",symbol:"AVH/BTC",base:"AVH",quote:"BTC",baseId:"avh",quoteId:"btc",active:!0,info:void 0,limits:{amount:{min:1,max:void 0},price:{min:1e-8,max:void 0},cost:{min:0,max:void 0}}},{precision:{amount:0,price:8},tierBased:!1,percentage:!0,taker:.001,maker:.001,id:"baieth",uppercaseId:"BAIETH",symbol:"BAI/ETH",base:"BAI",quote:"ETH",baseId:"bai",quoteId:"eth",active:!0,info:void 0,limits:{amount:{min:1,max:void 0},price:{min:1e-8,max:void 0},cost:{min:0,max:void 0}}},{precision:{amount:3,price:8},tierBased:!1,percentage:!0,taker:.001,maker:.001,id:"bchbtc",uppercaseId:"BCHBTC",symbol:"BCH/BTC",base:"BCH",quote:"BTC",baseId:"bch",quoteId:"btc",active:!0,info:void 0,limits:{amount:{min:.001,max:void 0},price:{min:1e-8,max:void 0},cost:{min:0,max:void 0}}},{precision:{amount:0,price:8},tierBased:!1,percentage:!0,taker:.001,maker:.001,id:"bkbtbtc",uppercaseId:"BKBTBTC",symbol:"BKBT/BTC",base:"BKBT",quote:"BTC",baseId:"bkbt",quoteId:"btc",active:!0,info:void 0,limits:{amount:{min:1,max:void 0},price:{min:1e-8,max:void 0},cost:{min:0,max:void 0}}},{precision:{amount:0,price:8},tierBased:!1,percentage:!0,taker:.001,maker:.001,id:"bkbteth",uppercaseId:"BKBTETH",symbol:"BKBT/ETH",base:"BKBT",quote:"ETH",baseId:"bkbt",quoteId:"eth",active:!0,info:void 0,limits:{amount:{min:1,max:void 0},price:{min:1e-8,max:void 0},cost:{min:0,max:void 0}}},{precision:{amount:0,price:8},tierBased:!1,percentage:!0,taker:.001,maker:.001,id:"bptnbtc",uppercaseId:"BPTNBTC",symbol:"BPTN/BTC",base:"BPTN",quote:"BTC",baseId:"bptn",quoteId:"btc",active:!0,info:void 0,limits:{amount:{min:100,max:void 0},price:{min:1e-8,max:void 0},cost:{min:0,max:void 0}}},{precision:{amount:4,price:2},tierBased:!1,percentage:!0,taker:.001,maker:.001,id:"btcbitcny",uppercaseId:"BTCBITCNY",symbol:"BTC/BitCNY",base:"BTC",quote:"BitCNY",baseId:"btc",quoteId:"bitcny",active:!0,info:void 0,limits:{amount:{min:1e-4,max:void 0},price:{min:.01,max:void 0},cost:{min:0,max:void 0}}},{precision:{amount:2,price:8},tierBased:!1,percentage:!0,taker:.001,maker:.001,id:"btmbtc",uppercaseId:"BTMBTC",symbol:"BTM/BTC",base:"BTM",quote:"BTC",baseId:"btm",quoteId:"btc",active:!0,info:void 0,limits:{amount:{min:.01,max:void 0},price:{min:1e-8,max:void 0},cost:{min:0,max:void 0}}},{precision:{amount:2,price:6},tierBased:!1,percentage:!0,taker:.001,maker:.001,id:"btmeth",uppercaseId:"BTMETH",symbol:"BTM/ETH",base:"BTM",quote:"ETH",baseId:"btm",quoteId:"eth",active:!0,info:void 0,limits:{amount:{min:.01,max:void 0},price:{min:1e-6,max:void 0},cost:{min:0,max:void 0}}},{precision:{amount:2,price:3},tierBased:!1,percentage:!0,taker:.001,maker:.001,id:"btsbitcny",uppercaseId:"BTSBITCNY",symbol:"BTS/BitCNY",base:"BTS",quote:"BitCNY",baseId:"bts",quoteId:"bitcny",active:!0,info:void 0,limits:{amount:{min:.01,max:void 0},price:{min:.001,max:void 0},cost:{min:0,max:void 0}}},{precision:{amount:2,price:8},tierBased:!1,percentage:!0,taker:.001,maker:.001,id:"btsbtc",uppercaseId:"BTSBTC",symbol:"BTS/BTC",base:"BTS",quote:"BTC",baseId:"bts",quoteId:"btc",active:!0,info:void 0,limits:{amount:{min:.01,max:void 0},price:{min:1e-8,max:void 0},cost:{min:0,max:void 0}}},{precision:{amount:2,price:6},tierBased:!1,percentage:!0,taker:.001,maker:.001,id:"btseth",uppercaseId:"BTSETH",symbol:"BTS/ETH",base:"BTS",quote:"ETH",baseId:"bts",quoteId:"eth",active:!0,info:void 0,limits:{amount:{min:.01,max:void 0},price:{min:1e-6,max:void 0},cost:{min:0,max:void 0}}},{precision:{amount:2,price:8},tierBased:!1,percentage:!0,taker:.001,maker:.001,id:"ctxcbtc",uppercaseId:"CTXCBTC",symbol:"CTXC/BTC",base:"CTXC",quote:"BTC",baseId:"ctxc",quoteId:"btc",active:!0,info:void 0,limits:{amount:{min:.01,max:void 0},price:{min:1e-8,max:void 0},cost:{min:0,max:void 0}}},{precision:{amount:2,price:8},tierBased:!1,percentage:!0,taker:.001,maker:.001,id:"ctxceth",uppercaseId:"CTXCETH",symbol:"CTXC/ETH",base:"CTXC",quote:"ETH",baseId:"ctxc",quoteId:"eth",active:!0,info:void 0,limits:{amount:{min:.01,max:void 0},price:{min:1e-8,max:void 0},cost:{min:0,max:void 0}}},{precision:{amount:2,price:8},tierBased:!1,percentage:!0,taker:.001,maker:.001,id:"elfbtc",uppercaseId:"ELFBTC",symbol:"ELF/BTC",base:"ELF",quote:"BTC",baseId:"elf",quoteId:"btc",active:!0,info:void 0,limits:{amount:{min:.01,max:void 0},price:{min:1e-8,max:void 0},cost:{min:0,max:void 0}}},{precision:{amount:2,price:8},tierBased:!1,percentage:!0,taker:.001,maker:.001,id:"eosbtc",uppercaseId:"EOSBTC",symbol:"EOS/BTC",base:"EOS",quote:"BTC",baseId:"eos",quoteId:"btc",active:!0,info:void 0,limits:{amount:{min:.01,max:void 0},price:{min:1e-8,max:void 0},cost:{min:0,max:void 0}}},{precision:{amount:2,price:6},tierBased:!1,percentage:!0,taker:.001,maker:.001,id:"eoseth",uppercaseId:"EOSETH",symbol:"EOS/ETH",base:"EOS",quote:"ETH",baseId:"eos",quoteId:"eth",active:!0,info:void 0,limits:{amount:{min:.01,max:void 0},price:{min:1e-6,max:void 0},cost:{min:0,max:void 0}}},{precision:{amount:2,price:8},tierBased:!1,percentage:!0,taker:.001,maker:.001,id:"etcbtc",uppercaseId:"ETCBTC",symbol:"ETC/BTC",base:"ETC",quote:"BTC",baseId:"etc",quoteId:"btc",active:!0,info:void 0,limits:{amount:{min:.01,max:void 0},price:{min:1e-8,max:void 0},cost:{min:0,max:void 0}}},{precision:{amount:3,price:2},tierBased:!1,percentage:!0,taker:.001,maker:.001,id:"ethbitcny",uppercaseId:"ETHBITCNY",symbol:"ETH/BitCNY",base:"ETH",quote:"BitCNY",baseId:"eth",quoteId:"bitcny",active:!0,info:void 0,limits:{amount:{min:.001,max:void 0},price:{min:.01,max:void 0},cost:{min:0,max:void 0}}},{precision:{amount:3,price:8},tierBased:!1,percentage:!0,taker:.001,maker:.001,id:"ethbtc",uppercaseId:"ETHBTC",symbol:"ETH/BTC",base:"ETH",quote:"BTC",baseId:"eth",quoteId:"btc",active:!0,info:void 0,limits:{amount:{min:.001,max:void 0},price:{min:1e-8,max:void 0},cost:{min:0,max:void 0}}},{precision:{amount:0,price:2},tierBased:!1,percentage:!0,taker:.001,maker:.001,id:"gtobitcny",uppercaseId:"GTOBITCNY",symbol:"GTO/BitCNY",base:"GTO",quote:"BitCNY",baseId:"gto",quoteId:"bitcny",active:!0,info:void 0,limits:{amount:{min:1,max:void 0},price:{min:.01,max:void 0},cost:{min:0,max:void 0}}},{precision:{amount:0,price:8},tierBased:!1,percentage:!0,taker:.001,maker:.001,id:"gusbtc",uppercaseId:"GUSBTC",symbol:"GUS/BTC",base:"GUS",quote:"BTC",baseId:"gus",quoteId:"btc",active:!0,info:void 0,limits:{amount:{min:1,max:void 0},price:{min:1e-8,max:void 0},cost:{min:0,max:void 0}}},{precision:{amount:4,price:8},tierBased:!1,percentage:!0,taker:.001,maker:.001,id:"icxbtc",uppercaseId:"ICXBTC",symbol:"ICX/BTC",base:"ICX",quote:"BTC",baseId:"icx",quoteId:"btc",active:!0,info:void 0,limits:{amount:{min:1e-4,max:void 0},price:{min:1e-8,max:void 0},cost:{min:0,max:void 0}}},{precision:{amount:0,price:8},tierBased:!1,percentage:!0,taker:.001,maker:.001,id:"incbtc",uppercaseId:"INCBTC",symbol:"INC/BTC",base:"INC",quote:"BTC",baseId:"inc",quoteId:"btc",active:!0,info:void 0,limits:{amount:{min:5,max:void 0},price:{min:1e-8,max:void 0},cost:{min:0,max:void 0}}},{precision:{amount:0,price:6},tierBased:!1,percentage:!0,taker:.001,maker:.001,id:"inceth",uppercaseId:"INCETH",symbol:"INC/ETH",base:"INC",quote:"ETH",baseId:"inc",quoteId:"eth",active:!0,info:void 0,limits:{amount:{min:5,max:void 0},price:{min:1e-6,max:void 0},cost:{min:0,max:void 0}}},{precision:{amount:0,price:8},tierBased:!1,percentage:!0,taker:.001,maker:.001,id:"kkgbtc",uppercaseId:"KKGBTC",symbol:"KKG/BTC",base:"KKG",quote:"BTC",baseId:"kkg",quoteId:"btc",active:!0,info:void 0,limits:{amount:{min:1,max:void 0},price:{min:1e-8,max:void 0},cost:{min:0,max:void 0}}},{precision:{amount:0,price:6},tierBased:!1,percentage:!0,taker:.001,maker:.001,id:"kkgeth",uppercaseId:"KKGETH",symbol:"KKG/ETH",base:"KKG",quote:"ETH",baseId:"kkg",quoteId:"eth",active:!0,info:void 0,limits:{amount:{min:1,max:void 0},price:{min:1e-6,max:void 0},cost:{min:0,max:void 0}}},{precision:{amount:2,price:8},tierBased:!1,percentage:!0,taker:.001,maker:.001,id:"ltcbtc",uppercaseId:"LTCBTC",symbol:"LTC/BTC",base:"LTC",quote:"BTC",baseId:"ltc",quoteId:"btc",active:!0,info:void 0,limits:{amount:{min:.01,max:void 0},price:{min:1e-8,max:void 0},cost:{min:0,max:void 0}}},{precision:{amount:0,price:8},tierBased:!1,percentage:!0,taker:.001,maker:.001,id:"mexbtc",uppercaseId:"MEXBTC",symbol:"MEX/BTC",base:"MEX",quote:"BTC",baseId:"mex",quoteId:"btc",active:!0,info:void 0,limits:{amount:{min:100,max:void 0},price:{min:1e-8,max:void 0},cost:{min:0,max:void 0}}},{precision:{amount:0,price:8},tierBased:!1,percentage:!0,taker:.001,maker:.001,id:"mtbtc",uppercaseId:"MTBTC",symbol:"MT/BTC",base:"MT",quote:"BTC",baseId:"mt",quoteId:"btc",active:!0,info:void 0,limits:{amount:{min:1,max:void 0},price:{min:1e-8,max:void 0},cost:{min:0,max:void 0}}},{precision:{amount:0,price:8},tierBased:!1,percentage:!0,taker:.001,maker:.001,id:"mteth",uppercaseId:"MTETH",symbol:"MT/ETH",base:"MT",quote:"ETH",baseId:"mt",quoteId:"eth",active:!0,info:void 0,limits:{amount:{min:1,max:void 0},price:{min:1e-8,max:void 0},cost:{min:0,max:void 0}}},{precision:{amount:0,price:3},tierBased:!1,percentage:!0,taker:.001,maker:.001,id:"ocnbitcny",uppercaseId:"OCNBITCNY",symbol:"OCN/BitCNY",base:"OCN",quote:"BitCNY",baseId:"ocn",quoteId:"bitcny",active:!0,info:void 0,limits:{amount:{min:1,max:void 0},price:{min:.001,max:void 0},cost:{min:0,max:void 0}}},{precision:{amount:0,price:8},tierBased:!1,percentage:!0,taker:.001,maker:.001,id:"ocnbtc",uppercaseId:"OCNBTC",symbol:"OCN/BTC",base:"OCN",quote:"BTC",baseId:"ocn",quoteId:"btc",active:!0,info:void 0,limits:{amount:{min:1,max:void 0},price:{min:1e-8,max:void 0},cost:{min:0,max:void 0}}},{precision:{amount:0,price:8},tierBased:!1,percentage:!0,taker:.001,maker:.001,id:"olebtc",uppercaseId:"OLEBTC",symbol:"OLE/BTC",base:"OLE",quote:"BTC",baseId:"ole",quoteId:"btc",active:!0,info:void 0,limits:{amount:{min:1,max:void 0},price:{min:1e-8,max:void 0},cost:{min:0,max:void 0}}},{precision:{amount:0,price:8},tierBased:!1,percentage:!0,taker:.001,maker:.001,id:"oleeth",uppercaseId:"OLEETH",symbol:"OLE/ETH",base:"OLE",quote:"ETH",baseId:"ole",quoteId:"eth",active:!0,info:void 0,limits:{amount:{min:1,max:void 0},price:{min:1e-8,max:void 0},cost:{min:0,max:void 0}}},{precision:{amount:2,price:8},tierBased:!1,percentage:!0,taker:.001,maker:.001,id:"omgbtc",uppercaseId:"OMGBTC",symbol:"OMG/BTC",base:"OMG",quote:"BTC",baseId:"omg",quoteId:"btc",active:!0,info:void 0,limits:{amount:{min:.01,max:void 0},price:{min:1e-8,max:void 0},cost:{min:0,max:void 0}}},{precision:{amount:2,price:8},tierBased:!1,percentage:!0,taker:.001,maker:.001,id:"repbtc",uppercaseId:"REPBTC",symbol:"REP/BTC",base:"REP",quote:"BTC",baseId:"rep",quoteId:"btc",active:!0,info:void 0,limits:{amount:{min:.01,max:void 0},price:{min:1e-8,max:void 0},cost:{min:0,max:void 0}}},{precision:{amount:0,price:8},tierBased:!1,percentage:!0,taker:.001,maker:.001,id:"sdabtc",uppercaseId:"SDABTC",symbol:"SDA/BTC",base:"SDA",quote:"BTC",baseId:"sda",quoteId:"btc",active:!0,info:void 0,limits:{amount:{min:1,max:void 0},price:{min:1e-8,max:void 0},cost:{min:0,max:void 0}}},{precision:{amount:0,price:8},tierBased:!1,percentage:!0,taker:.001,maker:.001,id:"sdaeth",uppercaseId:"SDAETH",symbol:"SDA/ETH",base:"SDA",quote:"ETH",baseId:"sda",quoteId:"eth",active:!0,info:void 0,limits:{amount:{min:1,max:void 0},price:{min:1e-8,max:void 0},cost:{min:0,max:void 0}}},{precision:{amount:0,price:8},tierBased:!1,percentage:!0,taker:.001,maker:.001,id:"sntbtc",uppercaseId:"SNTBTC",symbol:"SNT/BTC",base:"SNT",quote:"BTC",baseId:"snt",quoteId:"btc",active:!0,info:void 0,limits:{amount:{min:1,max:void 0},price:{min:1e-8,max:void 0},cost:{min:0,max:void 0}}},{precision:{amount:1,price:8},tierBased:!1,percentage:!0,taker:.001,maker:.001,id:"socbtc",uppercaseId:"SOCBTC",symbol:"SOC/BTC",base:"SOC",quote:"BTC",baseId:"soc",quoteId:"btc",active:!0,info:void 0,limits:{amount:{min:.1,max:void 0},price:{min:1e-8,max:void 0},cost:{min:0,max:void 0}}},{precision:{amount:0,price:8},tierBased:!1,percentage:!0,taker:.001,maker:.001,id:"sphbtc",uppercaseId:"SPHBTC",symbol:"SPH/BTC",base:"SPH",quote:"BTC",baseId:"sph",quoteId:"btc",active:!0,info:void 0,limits:{amount:{min:100,max:void 0},price:{min:1e-8,max:void 0},cost:{min:0,max:void 0}}},{precision:{amount:2,price:8},tierBased:!1,percentage:!0,taker:.001,maker:.001,id:"storjbtc",uppercaseId:"STORJBTC",symbol:"STORJ/BTC",base:"STORJ",quote:"BTC",baseId:"storj",quoteId:"btc",active:!0,info:void 0,limits:{amount:{min:.01,max:void 0},price:{min:1e-8,max:void 0},cost:{min:0,max:void 0}}},{precision:{amount:1,price:3},tierBased:!1,percentage:!0,taker:.001,maker:.001,id:"tchbitcny",uppercaseId:"TCHBITCNY",symbol:"TCH/BitCNY",base:"TCH",quote:"BitCNY",baseId:"tch",quoteId:"bitcny",active:!0,info:void 0,limits:{amount:{min:.1,max:void 0},price:{min:.001,max:void 0},cost:{min:0,max:void 0}}},{precision:{amount:1,price:8},tierBased:!1,percentage:!0,taker:.001,maker:.001,id:"tchbtc",uppercaseId:"TCHBTC",symbol:"TCH/BTC",base:"TCH",quote:"BTC",baseId:"tch",quoteId:"btc",active:!0,info:void 0,limits:{amount:{min:.1,max:void 0},price:{min:1e-8,max:void 0},cost:{min:0,max:void 0}}},{precision:{amount:0,price:3},tierBased:!1,percentage:!0,taker:.001,maker:.001,id:"trxbitcny",uppercaseId:"TRXBITCNY",symbol:"TRX/BitCNY",base:"TRX",quote:"BitCNY",baseId:"trx",quoteId:"bitcny",active:!0,info:void 0,limits:{amount:{min:1,max:void 0},price:{min:.001,max:void 0},cost:{min:0,max:void 0}}},{precision:{amount:0,price:8},tierBased:!1,percentage:!0,taker:.001,maker:.001,id:"trxbtc",uppercaseId:"TRXBTC",symbol:"TRX/BTC",base:"TRX",quote:"BTC",baseId:"trx",quoteId:"btc",active:!0,info:void 0,limits:{amount:{min:1,max:void 0},price:{min:1e-8,max:void 0},cost:{min:0,max:void 0}}},{precision:{amount:0,price:8},tierBased:!1,percentage:!0,taker:.001,maker:.001,id:"trxeth",uppercaseId:"TRXETH",symbol:"TRX/ETH",base:"TRX",quote:"ETH",baseId:"trx",quoteId:"eth",active:!0,info:void 0,limits:{amount:{min:1,max:void 0},price:{min:1e-8,max:void 0},cost:{min:0,max:void 0}}},{precision:{amount:2,price:8},tierBased:!1,percentage:!0,taker:.001,maker:.001,id:"tusdbtc",uppercaseId:"TUSDBTC",symbol:"TUSD/BTC",base:"TUSD",quote:"BTC",baseId:"tusd",quoteId:"btc",active:!0,info:void 0,limits:{amount:{min:.01,max:void 0},price:{min:1e-8,max:void 0},cost:{min:0,max:void 0}}},{precision:{amount:2,price:6},tierBased:!1,percentage:!0,taker:.001,maker:.001,id:"tusdeth",uppercaseId:"TUSDETH",symbol:"TUSD/ETH",base:"TUSD",quote:"ETH",baseId:"tusd",quoteId:"eth",active:!0,info:void 0,limits:{amount:{min:.01,max:void 0},price:{min:1e-6,max:void 0},cost:{min:0,max:void 0}}},{precision:{amount:1,price:2},tierBased:!1,percentage:!0,taker:.001,maker:.001,id:"xembitcny",uppercaseId:"XEMBITCNY",symbol:"XEM/BitCNY",base:"XEM",quote:"BitCNY",baseId:"xem",quoteId:"bitcny",active:!0,info:void 0,limits:{amount:{min:.1,max:void 0},price:{min:.01,max:void 0},cost:{min:0,max:void 0}}},{precision:{amount:0,price:8},tierBased:!1,percentage:!0,taker:.001,maker:.001,id:"yeebtc",uppercaseId:"YEEBTC",symbol:"YEE/BTC",base:"YEE",quote:"BTC",baseId:"yee",quoteId:"btc",active:!0,info:void 0,limits:{amount:{min:1,max:void 0},price:{min:1e-8,max:void 0},cost:{min:0,max:void 0}}},{precision:{amount:0,price:8},tierBased:!1,percentage:!0,taker:.001,maker:.001,id:"yeeeth",uppercaseId:"YEEETH",symbol:"YEE/ETH",base:"YEE",quote:"ETH",baseId:"yee",quoteId:"eth",active:!0,info:void 0,limits:{amount:{min:1,max:void 0},price:{min:1e-8,max:void 0},cost:{min:0,max:void 0}}},{precision:{amount:4,price:8},tierBased:!1,percentage:!0,taker:.001,maker:.001,id:"zrxbtc",uppercaseId:"ZRXBTC",symbol:"ZRX/BTC",base:"ZRX",quote:"BTC",baseId:"zrx",quoteId:"btc",active:!0,info:void 0,limits:{amount:{min:1e-4,max:void 0},price:{min:1e-8,max:void 0},cost:{min:0,max:void 0}}}];return this.options.marketsByUppercaseId=this.indexBy(e,"uppercaseId"),e}parseTicker(e,i){let t=void 0;i&&(t=i.symbol);let a=this.safeInteger(e,"id"),o=this.safeFloat(e,"last"),s=this.safeFloat(e,"percentChange");return{symbol:t,timestamp:a,datetime:this.iso8601(a),high:this.safeFloat(e,"high24hr"),low:this.safeFloat(e,"low24hr"),bid:this.safeFloat(e,"highestBid"),bidVolume:void 0,ask:this.safeFloat(e,"lowestAsk"),askVolume:void 0,vwap:void 0,open:void 0,close:o,last:o,previousClose:void 0,change:void 0,percentage:s,average:void 0,baseVolume:this.safeFloat(e,"baseVolume"),quoteVolume:this.safeFloat(e,"quoteVolume"),info:e}}async fetchOrderBook(e,t,a={}){await this.loadMarkets();let o=this.market(e),s=await this.publicGetDepth(this.extend({symbol:o.id,type:"step0"},a)),r=s.data.depth_data;if("tick"in r){if(!r.tick)throw new i(this.id+" fetchOrderBook() returned empty response: "+this.json(s));let e=r.tick,t=r.ts;return this.parseOrderBook(e,t,"buys")}throw new i(this.id+" fetchOrderBook() returned unrecognized response: "+this.json(s))}async fetchTicker(e,t={}){await this.loadMarkets();let a=this.market(e),o=a.uppercaseId,s=await this.exchangeGetApiPublicMarketDetail(t);if(!(o in s))throw new i(this.id+" fetchTicker symbol "+e+" ("+o+") not found");return this.parseTicker(s[o],a)}async fetchTickers(e,i={}){await this.loadMarkets();let t=await this.exchangeGetApiPublicMarketDetail(i),a={},o=Object.keys(t);for(let e=0;e<o.length;e++){let i=o[e],s=void 0,r=i;i in this.options.marketsByUppercaseId&&(r=this.options.marketsByUppercaseId[i].symbol,s=this.options.marketsByUppercaseId[i]),a[r]=this.parseTicker(t[i],s)}return a}parseTrade(e,i){let t=this.safeString(e,"side"),a=void 0,o=void 0,s=void 0;void 0!==t?(t=t.toLowerCase(),o=this.safeFloat(e,"price"),a=this.safeFloat(e,"amount")):(o=this.safeFloat(e.price,"amount"),a=this.safeFloat(e.volume,"amount"),s=this.safeFloat(e.deal_price,"amount")),void 0!==a&&void 0!==o&&void 0===s&&(s=a*o);let r=this.safeValue(e,"created_at");void 0===r&&(r=this.safeValue(e,"ts"));let d=void 0!==r?this.iso8601(r):void 0,m=void 0;return void 0!==i&&(m=i.symbol),{info:e,id:e.id.toString(),order:void 0,timestamp:r,datetime:d,symbol:m,type:void 0,side:t,price:o,amount:a,cost:s,fee:void 0}}async fetchTrades(e,i,t=1e3,a={}){await this.loadMarkets();let o=this.market(e),s={symbol:o.id};void 0!==t&&(s.size=t);let r=await this.publicGetHistoryTrade(this.extend(s,a));return this.parseTrades(r.data.trade_data,o,i,t)}async fetchMyTrades(e,t,a,o={}){if(void 0===e)throw new i(this.id+" fetchOrders requires a symbol argument");await this.loadMarkets();let s=this.market(e);void 0===a&&(a=100);let r=await this.privateGetOrderTrade(this.extend({symbol:s.id,offset:1,limit:a},o));return this.parseTrades(r.data.list,s,t,a)}async fetchOHLCV(e,i="1m",t,a=1e3,o={}){await this.loadMarkets();let s=this.market(e),r={symbol:s.id,period:this.timeframes[i]};void 0!==a&&(r.size=a);let d=await this.publicGetHistoryKline(this.extend(r,o));return this.parseOHLCVs(d.data.kline_data,s,i,t,a)}async fetchBalance(e={}){await this.loadMarkets();let i=await this.privateGetUserBalance(e),t=i.data,a={info:i};for(let e=0;e<t.length;e++){let i=t[e],o=i.coin,s=o.toUpperCase();s=this.commonCurrencyCode(s),o in this.currencies_by_id&&(s=this.currencies_by_id[o].code);let r=this.account();r.used=parseFloat(i.lock),r.free=parseFloat(i.normal),r.total=this.sum(r.used,r.free),a[s]=r}return this.parseBalance(a)}async fetchOrdersByStatus(e,t,a,o,s={}){if(void 0===t)throw new i(this.id+" fetchOrders requires a symbol argument");await this.loadMarkets();let r=this.market(t);void 0===o&&(o=100);let d="open"===e?"privateGetOrderNew":"privateGetOrderHistory",m=await this[d](this.extend({symbol:r.id,offset:1,limit:o},s));return this.parseOrders(m.data.list,r,a,o)}async fetchOpenOrders(e,i,t,a={}){return this.fetchOrdersByStatus("open",e,i,t,a)}async fetchClosedOrders(e,i,t,a={}){return this.fetchOrdersByStatus("closed",e,i,t,a)}parseOrder(e,i){let t=this.safeString(e,"side");t=t.toLowerCase();let a=void 0,o=void 0;void 0!==i&&(o=i.symbol);let s=e.created_at,r=this.safeFloat(e.volume,"amount"),d="remain_volume"in e?this.safeFloat(e.remain_volume,"amount"):void 0,m="deal_volume"in e?this.safeFloat(e.deal_volume,"amount"):void 0,n="age_price"in e?this.safeFloat(e.age_price,"amount"):void 0;void 0===n&&(n="price"in e?this.safeFloat(e.price,"amount"):void 0);let c=void 0,p=void 0;return void 0!==r&&(void 0!==d?void 0===m&&(m=r-d):void 0!==m&&(c=m*n,p=parseFloat(c/m),void 0===d&&(d=r-m))),void 0!==d&&d>0&&(a="open"),{info:e,id:e.id.toString(),timestamp:s,datetime:this.iso8601(s),lastTradeTimestamp:void 0,symbol:o,type:void 0,side:t,price:n,average:p,cost:c,amount:r,filled:m,remaining:d,status:a,fee:void 0}}async createOrder(e,i,t,s,r,d={}){if(await this.loadMarkets(),!this.password)throw new a(this.id+" createOrder requires exchange.password to be set to user trading password (not login password!)");this.checkRequiredCredentials();let m=this.market(e),n="limit"===i?1:2,c={symbol:m.id,side:t.toUpperCase(),type:n,volume:this.amountToPrecision(e,s),capital_password:this.password};if("market"===i&&"buy"===t){if(void 0===r)throw new o(this.id+" createOrder requires price argument for market buy orders to calculate total cost according to exchange rules");c.volume=this.amountToPrecision(e,s*r)}c.price="limit"===i?this.priceToPrecision(e,r):void 0===r?this.priceToPrecision(e,0):this.priceToPrecision(e,r);let p=await this.privatePostOrder(this.extend(c,d)),u=this.milliseconds();return{info:p,id:p.data.order_id.toString(),timestamp:u,datetime:this.iso8601(u),lastTradeTimestamp:void 0,status:void 0,symbol:e,type:i,side:t,price:r,amount:s,filled:void 0,remaining:void 0,cost:void 0,trades:void 0,fee:void 0}}async cancelOrder(e,t,a={}){if(await this.loadMarkets(),void 0===t)throw new i(this.id+" cancelOrder requires a symbol argument");let o=this.market(t);return{id:e,symbol:t,info:await this.privateDeleteOrder(this.extend({symbol:o.id,order_id:e},a))}}sign(e,i="public",t="GET",a={},o,s){this.checkRequiredCredentials();let r=this.urls.api[i]+"/"+this.implodeParams(e,a);if("private"===i){let i=this.milliseconds().toString(),d=this.keysort(this.extend({time:i},a)),m=Object.keys(d),n="";for(let e=0;e<m.length;e++)n+=m[e]+d[m[e]];n+=this.secret;let c=this.hmac(this.encode(n),this.encode(this.secret),"sha512"),p="order"===e&&"POST"===t?{}:d;r+="?"+this.urlencode(this.keysort(this.extend({api_key:this.apiKey,time:i},p))),r+="&sign="+c,"POST"===t&&(s=this.urlencode(d),o={"Content-Type":"application/x-www-form-urlencoded"})}else"public"===i?r+="?"+this.urlencode(this.extend({api_key:this.apiKey},a)):Object.keys(a).length&&(r+="?"+this.urlencode(a));return{url:r,method:t,body:s,headers:o}}handleErrors(e,t,a,o,s,r){if("string"==typeof r&&!(r.length<2||"{"!==r[0]&&"["!==r[0])){let e=JSON.parse(r);if("code"in e){let t=this.safeString(e,"code");if(void 0!==t&&"0"!==t){const a=this.safeString(e,"msg"),o=this.id+" "+this.json(e),s=this.exceptions;if(t in s){if(2===t){if("offsetNot Null"===a)throw new i(o);if("Parameter error"===a)throw new i(o)}throw new s[t](o)}throw new i(this.id+' unknown "error" value: '+this.json(e))}}}}};
//# sourceMappingURL=cointiger.js.map