"use strict";const e=require("./base/Exchange");module.exports=class extends e{describe(){return this.deepExtend(super.describe(),{id:"bl3p",name:"BL3P",countries:["NL","EU"],rateLimit:1e3,version:"1",comment:"An exchange market by BitonicNL",has:{CORS:!1},urls:{logo:"https://user-images.githubusercontent.com/1294454/28501752-60c21b82-6feb-11e7-818b-055ee6d0e754.jpg",api:"https://api.bl3p.eu",www:["https://bl3p.eu","https://bitonic.nl"],doc:["https://github.com/BitonicNL/bl3p-api/tree/master/docs","https://bl3p.eu/api","https://bitonic.nl/en/api"]},api:{public:{get:["{market}/ticker","{market}/orderbook","{market}/trades"]},private:{post:["{market}/money/depth/full","{market}/money/order/add","{market}/money/order/cancel","{market}/money/order/result","{market}/money/orders","{market}/money/orders/history","{market}/money/trades/fetch","GENMKT/money/info","GENMKT/money/deposit_address","GENMKT/money/new_deposit_address","GENMKT/money/wallet/history","GENMKT/money/withdraw"]}},markets:{"BTC/EUR":{id:"BTCEUR",symbol:"BTC/EUR",base:"BTC",quote:"EUR",maker:.0025,taker:.0025},"LTC/EUR":{id:"LTCEUR",symbol:"LTC/EUR",base:"LTC",quote:"EUR",maker:.0025,taker:.0025}}})}async fetchBalance(e={}){let t=(await this.privatePostGENMKTMoneyInfo()).data,a=t.wallets,i={info:t},s=Object.keys(this.currencies);for(let e=0;e<s.length;e++){let t=s[e],r=this.account();t in a&&"available"in a[t]&&(r.free=parseFloat(a[t].available.value)),t in a&&"balance"in a[t]&&(r.total=parseFloat(a[t].balance.value)),r.total&&r.free&&(r.used=r.total-r.free),i[t]=r}return this.parseBalance(i)}parseBidAsk(e,t=0,a=0){return[e[t]/1e5,e[a]/1e8]}async fetchOrderBook(e,t,a={}){let i=this.market(e),s=(await this.publicGetMarketOrderbook(this.extend({market:i.id},a))).data;return this.parseOrderBook(s,void 0,"bids","asks","price_int","amount_int")}async fetchTicker(e,t={}){let a=await this.publicGetMarketTicker(this.extend({market:this.marketId(e)},t)),i=1e3*a.timestamp,s=this.safeFloat(a,"last");return{symbol:e,timestamp:i,datetime:this.iso8601(i),high:this.safeFloat(a,"high"),low:this.safeFloat(a,"low"),bid:this.safeFloat(a,"bid"),bidVolume:void 0,ask:this.safeFloat(a,"ask"),askVolume:void 0,vwap:void 0,open:void 0,close:s,last:s,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:parseFloat(a.volume["24h"]),quoteVolume:void 0,info:a}}parseTrade(e,t){return{id:e.trade_id.toString(),timestamp:e.date,datetime:this.iso8601(e.date),symbol:t.symbol,type:void 0,side:void 0,price:e.price_int/1e5,amount:e.amount_int/1e8,info:e}}async fetchTrades(e,t,a,i={}){let s=this.market(e),r=await this.publicGetMarketTrades(this.extend({market:s.id},i));return this.parseTrades(r.data.trades,s,t,a)}async createOrder(e,t,a,i,s,r={}){let o=this.market(e),n={market:o.id,amount_int:parseInt(1e8*i),fee_currency:o.quote,type:"buy"===a?"bid":"ask"};"limit"===t&&(n.price_int=parseInt(1e5*s));let d=await this.privatePostMarketMoneyOrderAdd(this.extend(n,r));return{info:d,id:d.data.order_id.toString()}}async cancelOrder(e,t,a={}){return await this.privatePostMarketMoneyOrderCancel({order_id:e})}sign(e,t="public",a="GET",i={},s,r){let o=this.implodeParams(e,i),n=this.urls.api+"/"+this.version+"/"+o,d=this.omit(i,this.extractParams(e));if("public"===t)Object.keys(d).length&&(n+="?"+this.urlencode(d));else{this.checkRequiredCredentials();let e=this.nonce();r=this.urlencode(this.extend({nonce:e},d));let t=this.base64ToBinary(this.secret),a=o+"\0"+r,i=this.hmac(this.encode(a),t,"sha512","base64");s={"Content-Type":"application/x-www-form-urlencoded","Rest-Key":this.apiKey,"Rest-Sign":this.decode(i)}}return{url:n,method:a,body:r,headers:s}}};
//# sourceMappingURL=bl3p.js.map