"use strict";const e=require("./base/Exchange"),{ExchangeError:t}=require("./base/errors");module.exports=class extends e{describe(){return this.deepExtend(super.describe(),{id:"fybse",name:"FYB-SE",countries:"SE",has:{CORS:!1},rateLimit:1500,urls:{logo:"https://user-images.githubusercontent.com/1294454/27766512-31019772-5edb-11e7-8241-2e675e6797f1.jpg",api:"https://www.fybse.se/api/SEK",www:"https://www.fybse.se",doc:"http://docs.fyb.apiary.io"},api:{public:{get:["ticker","tickerdetailed","orderbook","trades"]},private:{post:["test","getaccinfo","getpendingorders","getorderhistory","cancelpendingorder","placeorder","withdraw"]}},markets:{"BTC/SEK":{id:"SEK",symbol:"BTC/SEK",base:"BTC",quote:"SEK"}}})}async fetchBalance(e={}){let t=await this.privatePostGetaccinfo(),i=parseFloat(t.btcBal),s=this.symbols[0],r=this.markets[s].quote,a=r.toLowerCase()+"Bal",o=parseFloat(t[a]),d={BTC:{free:i,used:0,total:i}};return d[r]={free:o,used:0,total:o},d.info=t,this.parseBalance(d)}async fetchOrderBook(e,t,i={}){let s=await this.publicGetOrderbook(i);return this.parseOrderBook(s)}async fetchTicker(e,t={}){let i=await this.publicGetTickerdetailed(t),s=this.milliseconds(),r=void 0,a=void 0;return"last"in i&&(r=this.safeFloat(i,"last")),"vol"in i&&(a=this.safeFloat(i,"vol")),{symbol:e,timestamp:s,datetime:this.iso8601(s),high:void 0,low:void 0,bid:this.safeFloat(i,"bid"),bidVolume:void 0,ask:this.safeFloat(i,"ask"),askVolume:void 0,vwap:void 0,open:void 0,close:r,last:r,previousClose:void 0,change:void 0,percentage:void 0,average:void 0,baseVolume:a,quoteVolume:void 0,info:i}}parseTrade(e,t){let i=1e3*parseInt(e.date);return{info:e,id:e.tid.toString(),order:void 0,timestamp:i,datetime:this.iso8601(i),symbol:t.symbol,type:void 0,side:void 0,price:this.safeFloat(e,"price"),amount:this.safeFloat(e,"amount")}}async fetchTrades(e,t,i,s={}){let r=this.market(e),a=await this.publicGetTrades(s);return this.parseTrades(a,r,t,i)}async createOrder(e,t,i,s,r,a={}){let o=await this.privatePostPlaceorder(this.extend({qty:s,price:r,type:i[0].toUpperCase()},a));return{info:o,id:o.pending_oid}}async cancelOrder(e,t,i={}){return await this.privatePostCancelpendingorder({orderNo:e})}sign(e,t="public",i="GET",s={},r,a){let o=this.urls.api+"/"+e;if("public"===t)o+=".json";else{this.checkRequiredCredentials();let e=this.nonce();a=this.urlencode(this.extend({timestamp:e},s)),r={"Content-Type":"application/x-www-form-urlencoded",key:this.apiKey,sig:this.hmac(this.encode(a),this.encode(this.secret),"sha1")}}return{url:o,method:i,body:a,headers:r}}async request(e,i="public",s="GET",r={},a,o){let d=await this.fetch2(e,i,s,r,a,o);if("private"===i&&"error"in d&&d.error)throw new t(this.id+" "+this.json(d));return d}};
//# sourceMappingURL=fybse.js.map