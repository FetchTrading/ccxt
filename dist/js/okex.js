"use strict";const e=require("./okcoinusd.js");module.exports=class extends e{describe(){return this.deepExtend(super.describe(),{id:"okex",name:"OKEX",countries:["CN","US"],has:{CORS:!1,futures:!0,fetchTickers:!0},urls:{logo:"https://user-images.githubusercontent.com/1294454/32552768-0d6dd3c6-c4a6-11e7-90f8-c043b64756a7.jpg",api:{web:"https://www.okex.com/v2",public:"https://www.okex.com/api",private:"https://www.okex.com/api"},www:"https://www.okex.com",doc:"https://github.com/okcoin-okex/API-docs-OKEx.com",fees:"https://www.okex.com/fees.html"},commonCurrencies:{FAIR:"FairGame",MAG:"Maggie",NANO:"XRB",YOYO:"YOYOW"}})}calculateFee(e,t,s,r,i,o="taker",a={}){let c=this.markets[e],h="quote",n=c[o],l=parseFloat(this.costToPrecision(e,r*n));return"sell"===s?l*=i:h="base",{type:o,currency:c[h],rate:n,cost:parseFloat(this.feeToPrecision(e,l))}}async fetchMarkets(){let e=await super.fetchMarkets();for(let t=0;t<e.length;t++)e[t].spot?(e[t].maker=.0015,e[t].taker=.002):(e[t].maker=3e-4,e[t].taker=5e-4);return e}async fetchTickers(e,t={}){await this.loadMarkets();let s=await this.publicGetTickers(this.extend({},t)),r=s.tickers,i=1e3*parseInt(s.date),o={};for(let e=0;e<r.length;e++){let t=r[e],s=void 0;if("symbol"in t){let e=t.symbol;e in this.markets_by_id&&(s=this.markets_by_id[e])}o[(t=this.parseTicker(this.extend(r[e],{timestamp:i}),s)).symbol]=t}return o}};
//# sourceMappingURL=okex.js.map