"use strict";const e=e=>{let t=e.slice(0,-1),r=e.slice(-1),a=60;return"y"===r?a=31536e3:"M"===r?a=2592e3:"w"===r?a=604800:"d"===r?a=86400:"h"===r&&(a=3600),t*a};module.exports={aggregate(e){let t={};for(const[r,a]of e)a>0&&(t[r]=(t[r]||0)+a);return Object.keys(t).map(e=>[parseFloat(e),parseFloat(t[e])])},parseTimeframe:e,buildOHLCVC:(t,r="1m",a=-1/0,i=1/0)=>{let l=1e3*e(r),c=[];const[o,,p,s,m,n,u]=[0,1,2,3,4,5,6];let h=Math.min(t.length-1,i);for(let e=0;e<=h;e++){let r=t[e];if(r.timestamp<a)continue;let i=Math.floor(r.timestamp/l)*l,h=c.length-1;-1===h||i>=c[h][o]+l?c.push([i,r.price,r.price,r.price,r.price,r.amount,1]):(c[h][p]=Math.max(c[h][p],r.price),c[h][s]=Math.min(c[h][s],r.price),c[h][m]=r.price,c[h][n]+=r.amount,c[h][u]++)}return c}};
//# sourceMappingURL=misc.js.map