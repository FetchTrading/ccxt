"use strict";const t=require("fs");module.exports=((e,o,n)=>{for(const r of Object.getOwnPropertyNames(o.constructor.prototype))if(n.includes(r)){const n=o[r].bind(o);o[r]=(async(...s)=>{const i=new Date;let c=void 0,a=void 0,d=void 0;try{c=await n(...s)}catch(t){d=t,a={type:t.constructor.prototype,message:t.message}}const p=new Date,y={start:i,startDatetime:i.toISOString(),end:p,endDatetime:p.toISOString(),id:o.id,method:r,args:s,response:c,exception:a},g="string"==typeof e?e:e(),f=JSON.stringify(y)+"\n";if(t.appendFileSync(g,f),c)return c;throw d})}});
//# sourceMappingURL=journal.js.map