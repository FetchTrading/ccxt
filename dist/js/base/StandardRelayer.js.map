{"version":3,"sources":["../../../js/base/StandardRelayer.js"],"names":["HttpClient","require","BigNumber","Web3Wrapper","Exchange","TokenInfo","StandardRelayer","[object Object]","super","this","constructor","TypeError","deepExtend","describe","has","createOrder","createMarketOrder","createLimitOrder","ethIsWeth","fetchBalance","fetchCurrencies","fetchL2OrderBook","fetchMarkets","fetchOHLCV","fetchOrderBook","fetchTicker","fetchTrades","privateAPI","needsEthereumNodeEndpoint","is0xProtocol","requiredCredentials","ethereumNodeAddress","perPage","networkId","zeroXClient","symbol","loadMarkets","marketEntry","markets","timestamp","Date","getTime","bids","undefined","asks","info","baseSymbol","quoteSymbol","split","baseAddress","quoteAddress","getFromAddress","tokenB","address","tokenA","response","client","getOrderbookAsync","baseTokenAddress","quoteTokenAddress","baseDecimals","currencies","precision","quoteDecimals","bidRates","askRates","sortOrderbookResponse","now","datetime","toISOString","nonce","Promise","all","bestBid","bestAsk","bid","bidVolume","ask","askVolume","marketsResponse","paginateTokenPairs","Set","result","i","length","tokenAInfo","tokenBInfo","id","code","name","active","status","decimals","add","pageNumber","nextPage","getTokenPairsAsync","page","concat","market","baseInfo","quoteInfo","base","quote","aToBSymbol","push","limits","amount","min","minAmount","max","maxAmount","bToASymbol","orders","isBid","orderCount","rates","Array","one","order","makerTokenAmount","takerTokenAmount","unitMaker","toUnitAmount","unitTaker","rate","div","limit","toNumber","sort","orderA","orderB","orderRateA","comparedTo","sortedBids","sortOrders","sortedAsks","calculateRates","module","exports"],"mappings":"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","file":"StandardRelayer.js"}